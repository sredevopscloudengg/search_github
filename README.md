# description
this project uses github search api rest endpoints to retrieve search results for pull requests based on pre-defined search criteria such as state, date type and date range. <br>

# development environment
suse linux 12-SP5 <br>
BASH version 4.3.48(1) - release <br>

# prerequisites/dependencies
vi: text editor for writing shell scripts. <br>
curl: a linux utility used to send http requests. <br>
jq: a linux utility used to process json content. <br>
mail: a linux mail client program to send email. <br>
ensure there is a tmp directory and you have write access to it. <br>

# about the program:
main function: accepts the following files as command line arguments in the following sequence and assigns them to global variables <br>
app.config <br>
pr_states.txt <br>
pr_dates.txt <br>

app.config: main configuration file used by the program that contains values for token, email, start_date, end_date and etc which can be changed to suit your requirements. <br>
pr_states.txt: input file that contais values for github pull request states. <br>
pr_dates.txt: input file that contains values for github pull request date types. <br>

sub functions:
process_app_config: this function reads values from the configuration file: app.config that are used throught this program. <br>
create_temp_dirs: this function creates temp directories to store output files generated by this program. <br>
build_consolidated_output_file: this function creates an output file that contains consolidated output generated by this program used as an input for the mail program <br>
build_output_file: this function creates multiple temporary output files used by the search function to write output. <br>
build_search_string: this function builds a search string used by the GitHub Search API using the values defined in the app.config file. <br>
run_search: this function executes search using the GitHub search api <br>
search_pr_date_range: this is a parent search function that will loop through all values in the input files: pr_states.txt, pr_dates.txt and uses the run_search helper function to execute the search. <br>
send_pr_summary_report: this function will send an email that includes PR summary report to a user's email address defined in the app.config file. <br>

# instructions
download the files to your local linux/unix environment. <br>
install the dependencies. <br>
update app.config values for the parameters token, email with your desired values. others are optional and can be updated to suit your requirements. <br>
changes to the input files pr_states.txt and pr_dates.txt are optional. <br>

please use the examples below to run the program. <br>
#usage(without debug output) : <path_to_program>/search_github_repo_pr_by_date.sh <path_to_config>/app.config <path_to_input>/pr_states.txt <path_to_input>/pr_dates.txt <br>
#example(current directory): ./search_github_repo_pr_by_date.sh app.config pr_states.txt pr_dates.txt <br>
#example(different directory): /tmp/search_github_repo_pr_by_date.sh /tmp/app.config /tmp/pr_states.txt /tmp/pr_dates.txt <br>

#usage(with debug output) : <path_to_program>/search_github_repo_pr_by_date.sh <path_to_config>/app.config <path_to_input>/pr_states.txt <path_to_input>/pr_dates.txt 2>&1 | tee <path_to_output>/program_output.log <br>
#example(current directory): ./search_github_repo_pr_by_date.sh app.config pr_states.txt pr_dates.txt 2>&1 | tee program_output.log <br>
#example(different directory): /tmp/search_github_repo_pr_by_date.sh /tmp/app.config /tmp/pr_states.txt /tmp/pr_dates.txt 2>&1 | tee /tmp/program_output.log <br>
